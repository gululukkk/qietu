"use strict";!function(t){var i=function(i){var s=this;this.caroursel=i,this.posterList=i.find(".poster-list"),this.posterItems=i.find(".poster-item"),this.firstPosterItem=this.posterItems.first(),this.lastPosterItem=this.posterItems.last(),this.img_list=this.posterItems.find("img"),this.prevBtn=this.caroursel.find(".poster-prev-btn"),this.nextBtn=this.caroursel.find(".poster-next-btn"),this.index=0,this.tips=this.caroursel.siblings(".tip"),this.toggle_tips_display=function(t){s.tips.eq(t).stop(!0).fadeIn().siblings(".tip").stop(!0).fadeOut()},this.setting={width:"1000",height:"270",posterWidth:"640",posterHeight:"270",scale:"0.8",speed:"1000",isAutoplay:"true",dealy:"1000"},t.extend(this.setting,this.getSetting()),this.setFirstPosition(),this.setSlicePosition(),this.rotateFlag=!0,this.prevBtn.bind("click",function(){s.index++,s.index>=s.posterItems.length&&(s.index=0),s.toggle_tips_display(s.index),s.posterItems.each(function(i,s){t(s).css("border","none"),"2"===t(s).css("z-index")&&t(s).css("border","2px solid #c0a057")}),s.rotateFlag&&(s.rotateFlag=!1,s.rotateAnimate("left"))}),this.nextBtn.bind("click",function(){s.index--,s.index<0&&(s.index=s.posterItems.length-1),s.toggle_tips_display(s.index),s.posterItems.each(function(i,s){t(s).css("border","none"),"2"===t(s).css("z-index")&&t(s).css("border","2px solid #c0a057")}),s.rotateFlag&&(s.rotateFlag=!1,s.rotateAnimate("right"))}),this.setting.isAutoplay&&(this.autoPlay(),this.caroursel.hover(function(){clearInterval(s.timer)},function(){s.autoPlay()}))};i.prototype={autoPlay:function(){var t=this;this.timer=window.setInterval(function(){t.prevBtn.click()},t.setting.dealy)},rotateAnimate:function(i){var s=this,e=[];"left"==i&&(this.posterItems.each(function(){var i=t(this),n=t(this).next().get(0)?t(this).next():s.firstPosterItem,h=n.css("width"),o=n.css("height"),r=n.css("zIndex"),a=n.css("opacity"),c=n.css("left"),g=n.css("top");e.push(r),i.animate({width:h,height:o,left:c,opacity:a,top:g},s.setting.speed,function(){s.rotateFlag=!0})}),this.posterItems.each(function(i){t(this).css("zIndex",e[i])})),"right"==i&&(this.posterItems.each(function(){var i=t(this),n=t(this).prev().get(0)?t(this).prev():s.lastPosterItem,h=n.css("width"),o=n.css("height"),r=n.css("zIndex"),a=n.css("opacity"),c=n.css("left"),g=n.css("top");e.push(r),i.animate({width:h,height:o,left:c,opacity:a,top:g},s.setting.speed,function(){s.rotateFlag=!0})}),this.posterItems.each(function(i){t(this).css("zIndex",e[i])}))},setFirstPosition:function(){this.caroursel.css({width:this.setting.width,height:this.setting.height}),this.posterList.css({width:this.setting.width,height:this.setting.height});var t=(this.setting.width-this.setting.posterWidth)/2;this.prevBtn.css({width:t,height:this.setting.height,zIndex:Math.ceil(this.posterItems.size()/2)}),this.nextBtn.css({width:t,height:this.setting.height,zIndex:Math.ceil(this.posterItems.size()/2)}),this.firstPosterItem.css({width:this.setting.posterWidth,height:this.setting.posterHeight,left:t,zIndex:Math.ceil(this.posterItems.size()/2),top:this.setVertialType(this.setting.posterHeight)})},setSlicePosition:function(){var i=this,s=this.posterItems.slice(1),e=Math.floor(this.posterItems.length/2),n=s.slice(0,e),h=s.slice(e),o=this.setting.posterWidth,r=this.setting.posterHeight,a=(this.setting.width-this.setting.posterWidth)/2,c=a/e,g=this.setting.width,l=1,p=o,d=r,u=e;n.each(function(s,e){p=o*i.setting.scale,d=r*i.setting.scale,t(this).css({width:p,height:d,left:a-l*c,zIndex:u--,opacity:1/(l+1),top:i.setVertialType(d)}),l++});var f=e,m=1;h.each(function(s,e){var n=o*i.setting.scale,h=r*i.setting.scale;t(this).css({width:n,height:h,left:g-(a-f*c+n),zIndex:m++,opacity:1/(f+1),top:i.setVertialType(h)}),f--})},getSetting:function(){var i=this.caroursel.attr("data-setting");return i.length>0?t.parseJSON(i):{}},setVertialType:function(t){var i=this.setting.algin;return"top"==i?0:"middle"==i?(this.setting.posterHeight-t)/2:"bottom"==i?this.setting.posterHeight-t:(this.setting.posterHeight-t)/2}},i.init=function(s){s.each(function(s,e){new i(t(this))})},window.Caroursel=i}(jQuery),function(){var t=$("#part2 .pic-box .pic"),i=0,s=t.length-1,e=$("#part2 .pic-box .numbered");t.toggle_pic_display=function(t){$(this).eq(t).addClass("show").stop(!0).fadeIn().siblings("img").removeClass("show").stop(!0).fadeOut(),e.text(i+1)},$("#part2 .left-arrow").click(function(){i++,i>s&&(i=0),n.toggle_dot_style(n.eq(i)),t.toggle_pic_display(i)}),$("#part2 .right-arrow").click(function(){i--,i<0&&(i=s),n.toggle_dot_style(n.eq(i)),t.toggle_pic_display(i)});var n=$("#part2 .dotted-list .item");n.toggle_dot_style=function(t){t.css("background","#c0a057").siblings(".item").css("background","#5b5b5b")},n.click(function(){n.toggle_dot_style($(this));var i=$(this).index();t.toggle_pic_display(i)}),window.toggle_pic_display=t.toggle_pic_display}(),$("#part3 .left-arrow").click(function(){var t=$(this).siblings("img"),i=$(this).siblings("img.show").index();i++,i>=t.length&&(i=0),toggle_pic_display.call(t,i)}),$("#part3 .right-arrow").click(function(){var t=$(this).siblings("img"),i=$(this).siblings("img.show").index();i--,i<0&&(i=t.length-1),toggle_pic_display.call(t,i)}),Caroursel.init($(".caroursel"));